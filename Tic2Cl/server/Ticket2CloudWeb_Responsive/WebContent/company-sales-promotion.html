<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Promoción de ventas</title>
<link rel="stylesheet" type="text/css" href="css/tickcloud.css">
<script src="js/jquery-1.11.2.min.js" type="text/javascript"></script>
<script type="text/javascript">
	var validation;
    function previewImage() {
        var oFReader = new FileReader();
        oFReader.readAsDataURL(document.getElementById("uploadImage").files[0]);

        oFReader.onload = function (oFREvent) {
            document.getElementById("uploadPreview").src = oFREvent.target.result;
        };
    };
    function validations(){
    	validation = 0;
    	if(description.value==""){		    
			description.setCustomValidity('Introduzca una descripción, por favor.');
			description.reportValidity();
	    	return;
	    }
    	else
    		validation++;
		if(dateFrom.value==""){		    
			dateFrom.setCustomValidity('Introduzca Fecha Desde, por favor.');
			dateFrom.reportValidity();
	    	return;
	    }
		else
    		validation++;
		if(dateTo.value==""){		    
			dateTo.setCustomValidity('Introduzca Fecha Hasta, por favor.');
			dateTo.reportValidity();
	    	return;
	    }
		else
    		validation++;		
    }

</script>
<script>
$(document).ready(function() {	
	$("#age").click(function() {		
		age();
	});
	$("#age").on('touchstart', function() {
		age();
	});
	function age(){
		if ($("#age").prop('checked')){
			$("#minAge").attr("disabled", false);
		    $("#maxAge").attr("disabled", false);
		    $("#intervalAge").attr("disabled", false);		    
		}
		else{
			$("#minAge").attr("disabled", true);
		    $("#maxAge").attr("disabled", true);
		    $("#intervalAge").attr("disabled", true);
		}
	}
	$("#distance").click(function() {		
		distance();
	});
	$("#distance").on('touchstart', function() {			
		distance();
	});
	function distance(){
		if ($("#distance").prop('checked')){
			$("#maxDistance").attr("disabled", false);
		    $("#intervalDistance").attr("disabled", false);		   
		}
		else{
			$("#maxDistance").attr("disabled", true);
		    $("#intervalDistance").attr("disabled", true);		    
		}
	}
	$("#acceptButton").click(function() {		
		accept();
	});
	$("#acceptButton").on('touchstart', function() {	
		accept();
	});		
	function accept(){
		if (validation<3)
			alert('Debe introducir valor en los campos');
		validations();		
		if ($("#age").prop('checked')){
			if(minAge.value==""){		    
		    	minAge.setCustomValidity('Introduzca la edad, por favor.');
		    	minAge.reportValidity();
		    	return;
	        }
			if(maxAge.value==""){		    
				maxAge.setCustomValidity('Introduzca la edad, por favor.');
				maxAge.reportValidity();
		    	return;
	        }
			if(intervalAge.value==""){		    
				intervalAge.setCustomValidity('Introduzca el intervalo para la muestra por edad, por favor.');
				intervalAge.reportValidity();
		    	return;
	        }
		}
		if ($("#distance").prop('checked')){
			if(maxDistance.value==""){		    
				maxDistance.setCustomValidity('Introduzca la distancia máxima, por favor.');
				maxDistance.reportValidity();
		    	return;
	        }			
			if(intervalDistance.value==""){		    
				intervalDistance.setCustomValidity('Introduzca el intervalo para la muestra por distancia, por favor.');
				intervalDistance.reportValidity();
		    	return;
	        }
		}
		if (validation>=3)
			alert('La oferta se ha registrado correctamente.');
	}
});

</script>

  
</head>
<body>
	<div id="form_wrapper" class="form_wrapper">	
	<div id="content_head" class="content_head">
		<h3>Promoción de ventas</h3>
	</div>
	<form id="salesPromotion" class="register" autocomplete="on">		
		<div id="content" class="content">			
			<div class="column" style="float: left;width: 100%">				
				<div style="float: left;width: 90%">
					<fieldset>
                		<legend>Tipo:</legend>
							<input type="radio" name="promotionType" id="radioPromocion" value="Promoción" checked = "checked" style="width:auto;">Promoción <input type="radio" name="promotionType" id="radioPromocion" value="Oferta" style="width:auto;">Oferta <input type="radio" name="promotionType" id="radioPromocion" value="Rebajas" checked = "checked" style="width:auto;">Rebajas <input type="radio" name="promotionType" id="radioPromocion" value="Liquidación" style="width:auto;">Liquidación <input type="radio" name="promotionType" id="radioPromocion" value="Saldo" style="width:auto;">Saldo
					</fieldset>
				</div>				
				<div style="float: left;width: 70%">
					<label>Descripción:</label> <input type="text" id="description" name="description" tabindex="1" style="width: 100%;vertical-align: top;" value="" style="width: 50%; "> 
				</div>				
				<div style="float: left;width: 48%">
					<label>Fecha Desde:</label> <input type="date"
						required="required" tabindex="2" style="width: 90%; " id="dateFrom">
				</div>
				<div style="float: left;width: 48%">
					<label>Fecha Hasta:</label> <input type="date"
						required="required" tabindex="3" style="width:  90%; " id="dateTo">
				</div>
				<div style="float: left;width: 48%">
					<label>Incluir Imagen (Opcional):</label>
					<div class="clear"></div>
					<div style="float: left;width: 25%;display: block">
						<input id="uploadImage" type="file" name="promotionImage" tabindex="4" onchange="javascript:previewImage();" />
					</div>
					<div style="float: left;width: 100%;display: block;margin-top: 2%">
						<img id="uploadPreview" src="" style="width: 100%; height: 100%;" />
					</div>				
				</div>			
				<div class="clear"></div>
			</div><!-- column-->
			<div class="column" style="float: left;width: 100%">
			<div class="clear"></div>
				<div style="float: left;width: 90%">
					<fieldset>
                		<legend>Segmentar objetivo (Opcional):</legend>
                        <input type="checkbox" id="gender" name="gender" value="Sexo" tabindex="5" style="width: 4%; "/>Sexo <input type="radio" name="sexo" id="radioHombre" value="Hombre" checked = "checked" style="width:auto;">Hombre <input type="radio" name="sexo" id="radioMujer" value="Mujer" style="width:auto;">Mujer<input type="radio" name="sexo" id="radioAmbos" value="Ambos" style="width:auto;">Ambos<br />
                        <input type="checkbox" id="age" name="age" value="Edad" tabindex="6" style="width: 4%; ">Edad <input type="number"
						id="minAge" min="0" max="99" required="required" tabindex="7" maxlength="2" style="height: 10%; width: 10%;" disabled="disabled"> a: <input type="number"
						id="maxAge" min="0" max="99" required="required" tabindex="8" maxlength="2" style="height: 10%; width: 10%;" disabled="disabled"> años <br />
                        
                        <input type="checkbox" id="distance" name="distance" value="Distancia" tabindex="9" style="width: 4%; "/>Distancia Cliente <input type="number"
						id="maxDistance" min="0" max="999" required="required" tabindex="10" maxlength="3" style="height: 10%; width: 10%;" disabled="disabled"> kms                	      
       			 </fieldset>
				 </div>
				 <div class="clear"></div>
			</div><!-- column-->
		</div><!-- content-->									
		<div class="content_foot">			
			<div style="margin-left: 40%;display: inline">
				<input type="button" id="acceptButton" value="Aceptar">
			</div>
			<div style="float:right;width: 30%;display: inline">
				 <a href="company-menu.html" rel="register">Salir</a>
			</div>						
		</div>
		</form>				
		</div>	
</body>
</html>